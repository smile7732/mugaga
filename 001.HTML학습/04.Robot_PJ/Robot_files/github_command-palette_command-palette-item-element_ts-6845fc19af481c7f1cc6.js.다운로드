"use strict";(()=>{var A=Object.defineProperty;var y=(D,E)=>A(D,"name",{value:E,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["github_command-palette_command-palette-item-element_ts"],{13957:(D,E,n)=>{n.d(E,{i:()=>e});var d=n(93673),h=n(15746),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((s,i,c,a)=>{for(var o=a>1?void 0:a?l(i,c):i,m=s.length-1,f;m>=0;m--)(f=s[m])&&(o=(a?f(i,c,o):f(o))||o);return a&&o&&_(i,c,o),o},"__decorateClass");let e=y(class extends h.b{static build(s,i){const c=new e;return c.providerId=s,c.provider=i,c}},"ClientDefinedProviderElement");r([d.Lj],e.prototype,"providerId",2),e=r([d.Ih],e)},26351:(D,E,n)=>{n.d(E,{o:()=>P,Z:()=>I});var d=n(93673),h=n(13957),_=n(7357),l=n(60121),r=n(9530),e=n(46931),s=n(18375),i=n(18159),c=n(13802),a=n(93197),o=Object.defineProperty,m=Object.getOwnPropertyDescriptor,f=y((t,p,v,b)=>{for(var O=b>1?void 0:b?m(p,v):p,L=t.length-1,C;L>=0;L--)(C=t[L])&&(O=(b?C(p,v,O):C(O))||O);return b&&O&&o(p,v,O),O},"__decorateClass");const T=y(()=>navigator.platform.match(/Mac/),"isMac"),M=T()?"metaKey":"ctrlKey",u=T()?"Meta":"Control",P=y(t=>t instanceof KeyboardEvent?t[M]:!1,"isPlatformMetaKey"),g=450;let I=y(class extends HTMLElement{constructor(){super(...arguments);this.activated=!1,this.error=!1,this.query=new s.A("",""),this.requestsInProgress=[],this.setupComplete=!1,this.sessionId="",this.returnTo="",this.userId="",this.multiPageEnabled=!1,this.activationHotkey="Mod+k,Mod+Alt+k",this.commandModeHotkey="Mod+Shift+k,Control+K",this.memexActivationHotkey="Mod+p"}get itemStackElement(){return this.querySelector("command-palette-item-stack")}setup(){this.modes=Array.from(this.querySelectorAll("command-palette-mode")),this.defaultMode=this.querySelector(".js-command-palette-default-mode"),this.commandPaletteInput=this.querySelector("command-palette-input"),this.groups=this.querySelectorAll("command-palette-item-group"),this.multiPageEnabled?this.addEventListener("itemsUpdated",this.itemsUpdated.bind(this)):(this.itemStackElement.getQuery=()=>this.query,this.itemStackElement.addEventListener("itemsUpdated",this.itemsUpdated.bind(this))),this.addEventListener("selectedItemChanged",v=>{if(v instanceof CustomEvent){const b=v.detail.item,O=v.detail.isDefaultSelection;this.updateTypeahead(b,O)}}),this.addEventListener("loadingStateChanged",v=>{v instanceof CustomEvent&&(this.commandPaletteInput.loading=v.detail.loading)}),this.addEventListener("command-palette-page-stack-updated",v=>{v instanceof CustomEvent&&(this.commandPaletteInput.scope=this.pageStack.scope)}),this.octicons={},this.commandPaletteInput.addEventListener("command-palette-input",this.onInput.bind(this)),this.commandPaletteInput.addEventListener("command-palette-select",this.onSelect.bind(this)),this.commandPaletteInput.addEventListener("command-palette-descope",this.onDescope.bind(this)),this.commandPaletteInput.addEventListener("command-palette-cleared",this.onInputClear.bind(this)),document.addEventListener("pjax:end",this.pjaxReset.bind(this)),new ResizeObserver(v=>{for(const b of v)this.commandPaletteInput.scopeElement.smallDisplay=b.contentRect.width<g}).observe(this),this.addEventListener("keydown",this.onKeydown.bind(this)),this.defaultOpen&&(this.manualToggle(!0),this.clearReturnToParams()),window.commandPalette=this,this.setupComplete=!0;const p=new Event("command-palette-ready",{bubbles:!0,cancelable:!0});this.dispatchEvent(p)}connectedCallback(){this.setupComplete||this.setup()}clear(t=!0){return this.clearProviderCaches(),this.multiPageEnabled?this.pageStack.clearItems():this.itemStackElement.clear(),t&&this.resetInput(),this.activated?this.prefetchProviderData():Promise.resolve()}clearCommands(t=!0){return this.clearCommandProviderCaches(),this.multiPageEnabled||this.itemStackElement.clearItemsFor(_.O.commandGroupIds),t&&this.resetInput(),this.activated?this.prefetchProviderData({providers:this.commandsProviderElements}):Promise.resolve()}resetInput(){this.commandPaletteInput.value="",this.commandPaletteInput.resetScopeIfNeeded()}activate(){if(this.sessionId=this.generateSessionId(),this.commandPaletteInput.scopeElement.smallDisplay=this.offsetWidth<g,this.commandPaletteInput.resetScopeIfNeeded(),this.commandPaletteInput.focus(),this.setActiveModeElement(),this.setQuery(),this.toggleTips(),this.multiPageEnabled)this.pageStack.currentPage.prefetch(),this.pageStack.bindListeners();else if(this.prefetchProviderData(),this.updateOverlay(),this.itemStackElement.bindListeners(),this.commandPaletteInput.hasScope()){const t=new s.A(this.query.queryText,this.query.queryMode,{subjectId:this.query.subjectId,subjectType:this.query.subjectType,returnTo:this.query.returnTo});this.prefetchProviderData({query:t})}this.activated=!0,(0,a.j)("session_initiated")}deactivate(){this.activated=!1,this.multiPageEnabled?this.pageStack.unbindListeners():(this.itemStackElement.clearSelection(),this.itemStackElement.unbindListeners()),this.previouslyActiveElement&&this.previouslyActiveElement.focus(),(0,a.j)("session_terminated")}generateSessionId(){return(0,i.k)(`${Date.now()}_${this.userId}_${this.query.path}`).toString()}manualToggle(t){const p=this.closest("details");t?p.open=!0:p.removeAttribute("open")}dismiss(){this.manualToggle(!1),this.clear()}get subjectId(){var t;return((t=this.pjaxMeta)==null?void 0:t.getAttribute("data-subject-id"))||""}get subjectType(){var t;return((t=this.pjaxMeta)==null?void 0:t.getAttribute("data-subject-type"))||""}get pjaxMeta(){return document.querySelector(".js-command-palette-pjax-meta-data")}get secondaryActivationHotkey(){const t=this.activationHotkey.split(",");return t.length>1?t[t.length-1]:""}get platformActivationHotkey(){return this.platformHotkey(this.activationHotkey)}get platformSecondardActivationHotkey(){return this.platformHotkey(this.secondaryActivationHotkey)}get platformCommandModeHotkey(){return this.platformHotkey(this.commandModeHotkey)}get platformMemexActivationHotkey(){return this.platformHotkey(this.memexActivationHotkey)}platformHotkey(t){if(t==="none")return"";let p=t;if(T())p=p.replace(/Mod\+Alt/g,"Alt+Mod");else if(p.includes("Shift")){const v=p.charAt(p.length-1);p+=`,${p.replace(`Shift+${v}`,v.toUpperCase())}`}return p.replace(/Mod/g,u)}pjaxReset(){this.activated=!1,this.clear(!0)}onInput(){this.commandPaletteInput.typeahead="",this.setActiveModeElement(),this.setQuery(),this.activated&&this.fetchProviderData(),this.multiPageEnabled||this.itemStackElement.updateSelectedItem(),this.toggleTips(),this.updateOverlay()}updateOverlay(){const t=this.getMode();this.commandPaletteInput.overlay=t;for(const p of this.groups)p.renderElement(t);if(t&&this.getTextWithoutMode()===""){const p=this.getModeElement().placeholder||"";this.commandPaletteInput.showModePlaceholder(p)}else this.commandPaletteInput.showModePlaceholder("")}itemsUpdated(t){if(!(t instanceof CustomEvent))return;const v=t.detail.items.filter(C=>C.group!==_.O.footerGroupId),b=v.filter(C=>!_.O.helpGroupIds.includes(C.group)),O=v.length>b.length,L=this.finishedLoading&&b.length===0&&this.activated;b.length>0?this.toggleEmptyState(!1,O):L&&(this.toggleEmptyState(!0,O),this.toggleTips()),this.toggleErrorTips()}setActiveModeElement(){const t=this.commandPaletteInput.value.substring(0,1),p=this.modes.filter(v=>v.active(this.query.scope,t)).find(v=>v.character()===t);this.activeMode=p||this.defaultMode,this.multiPageEnabled&&(this.pageStack.currentMode=this.activeMode.character())}setQuery(){this.query=new s.A(this.getTextWithoutMode().trimStart(),this.getMode(),{scope:this.commandPaletteInput.scope,subjectId:this.subjectId,subjectType:this.subjectType,returnTo:this.returnTo}),this.multiPageEnabled&&(this.pageStack.currentQueryText=this.getTextWithoutMode().trimStart())}getModeElement(){return this.activeMode}getMode(){var t;return(t=this.getModeElement())==null?void 0:t.character()}getTextWithoutMode(){if(!this.commandPaletteInput)return"";const t=this.commandPaletteInput.value,p=this.getMode();return p&&t.startsWith(p)?t.substring(1):t}get selectedItem(){return this.multiPageEnabled?this.pageStack.currentPage.selectedItem:this.itemStackElement.selectedItem}onSelect(t){this.selectedItem?this.selectedItem.item instanceof r.q&&this.selectedItem.item.scope?this.setScope(this.selectedItem.item.scope):this.autocomplete(this.selectedItem.item):t.preventDefault()}autocomplete(t){if(t instanceof r.q)t.autocomplete(this);else{const p=this.commandPaletteInput;t.typeahead!==void 0?p.value=p.overlay+t.typeahead:p.value=p.overlay+t.title}}setScope(t){if(this.multiPageEnabled){const p=t||this.commandPaletteInput.scope;for(const v of p.tokens){const b=v===p.tokens[p.tokens.length-1],O=new l.j({title:v.value,scopeId:v.id,scopeType:v.type});this.pageStack.push(O,!b)}this.commandPaletteInput.value=""}else this.itemStackElement.clearSelection(),t&&(this.commandPaletteInput.scope=t),this.commandPaletteInput.value="",this.setQueryScope(),this.toggleTips(),this.prefetchProviderData()}onDescope(){if(this.multiPageEnabled){this.pageStack.pop();return}if(this.commandPaletteInput.hasScope()){const p=this.commandPaletteInput.value;this.commandPaletteInput.removeToken(),this.setScope(),this.commandPaletteInput.setRemovedTokenAndSelect(p)}}onInputClear(){this.multiPageEnabled?this.pageStack.clear():(this.commandPaletteInput.clearScope(),this.setScope())}onKeydown(t){var p;t.key==="Enter"&&this.selectedItem?((p=this.selectedItem)==null||p.activate(this,t),t.preventDefault(),t.stopPropagation()):t.key==="ArrowDown"?(this.navigateToItem(1),t.preventDefault(),t.stopPropagation()):t.key==="ArrowUp"?(this.navigateToItem(-1),t.preventDefault(),t.stopPropagation()):this.isCopyEvent(t)&&this.selectedItem&&(this.selectedItem.copy(this),t.preventDefault(),t.stopPropagation())}navigateToItem(t){this.multiPageEnabled?this.pageStack.navigate(t):this.itemStackElement.navigate(t)}toggleTips(){const t=this.modeTips.filter(v=>v.available(this.query)),p=t[Math.floor(Math.random()*t.length)];for(const v of this.modeTips)v.hidden=p!==v;this.multiPageEnabled?(this.pageStack.hasVisibleTip=!!p,this.pageStack.currentPage.recomputeStyles()):this.finishedLoading&&this.itemStackElement.setMaxHeight()}toggleEmptyState(t,p){for(const v of this.emptyStateElements)v.toggle(this.query,t);if(!p&&t){const v=this.serverDefinedProviderElements.find(b=>b.type==="help");v&&this.fetchProviderData([v],{isEmpty:!0})}else p&&!t&&!this.multiPageEnabled&&this.itemStackElement.clearItemsFor(_.O.helpGroupIds);this.finishedLoading&&!this.multiPageEnabled&&this.itemStackElement.setMaxHeight()}toggleErrorTips(){for(const t of this.errorStateTips)t.toggle(this.query,!1,this.error)}updateTypeahead(t,p=!1){var v,b;this.getTextWithoutMode()===""&&(!t||p)?this.commandPaletteInput.typeahead="":t&&(this.commandPaletteInput.typeahead=(b=(v=t.typeahead)!=null?v:t.title)!=null?b:"")}isCopyEvent(t){return this.commandPaletteInput.textSelected()?!1:T()?t.metaKey&&t.key==="c":t.ctrlKey&&t.key==="c"}setQueryScope(){this.query.scope=this.commandPaletteInput.scope}async prefetchProviderData(t={}){if(this.multiPageEnabled)return;const v={...{query:this.query,providers:this.providerElements},...t};await Promise.all(Array.from(v.providers).map(async b=>{const O=b.provider;if(O instanceof e.t){if(!O.scopeMatch(v.query))return;await O.prefetch(v.query.immutableCopy()),this.cacheIcons(O.octicons)}await this.fetchProviderData([b],{prefillItemStack:!0})}))}async fetchProviderData(t,p={}){if(this.multiPageEnabled)return;const b={...{prefillItemStack:!1,isEmpty:!1},...p},O=t!=null?t:this.providerElements;this.error=!1,await this.fetchWithSpinner(O.map(async L=>{if(!L.provider.enabledFor(this.query))return;const C=this.query.immutableCopy(),S=await L.fetchWithDebounce(C,b.isEmpty);S&&(S.error&&(this.error=!0,this.toggleErrorTips()),S.octicons&&this.cacheIcons(S.octicons)),this.multiPageEnabled||this.itemStackElement.addItems(C,S.results,b.prefillItemStack)}))}async fetchWithSpinner(t){this.requestsInProgress.push(t),this.commandPaletteInput.loading=!0,await Promise.all(t),this.requestsInProgress.splice(this.requestsInProgress.indexOf(t),1),this.commandPaletteInput.loading=this.requestsInProgress.length>0}get serverDefinedProviderElements(){const t=this.querySelectorAll("server-defined-provider");return Array.from(t)}get clientDefinedProviderElements(){const t=this.querySelectorAll("client-defined-provider");return Array.from(t)}get providerElements(){return[...this.serverDefinedProviderElements,...this.clientDefinedProviderElements]}get commandsProviderElements(){return this.providerElements.filter(t=>t.provider.hasCommands)}clearProviderCaches(){for(const t of this.providerElements)t.provider.clearCache()}clearCommandProviderCaches(){for(const t of this.commandsProviderElements)t.provider.clearCache()}registerProvider(t,p){const v=this.querySelector(`client-defined-provider[data-provider-id="${t}"]`);v&&v.remove();const b=h.i.build(t,p);this.appendChild(b)}pushPage(t){!this.multiPageEnabled||this.pageStack.push(t)}get tipElements(){const t=this.querySelectorAll("command-palette-tip");return Array.from(t)}get modeTips(){return this.tipElements.filter(t=>!t.onEmpty&&!t.onError)}get emptyStateElements(){return this.tipElements.filter(t=>t.onEmpty)}get errorStateTips(){return this.tipElements.filter(t=>t.onError)}get finishedLoading(){return this.requestsInProgress.length===0}get placeholder(){return this.getAttribute("placeholder")||""}get defaultOpen(){return this.getAttribute("data-default-open")!==null}clearReturnToParams(){const t=new URLSearchParams(location.search);t.delete("command_palette_open"),t.delete("command_query"),t.delete("command_mode"),t.delete("clear_command_scope"),history.replaceState(null,"",`?${t}${location.hash}`)}cacheIcons(t){if(!this.multiPageEnabled)for(const p of t)this.itemStackElement.octicons[p.id]=p.svg}displayFlash(t,p,v=!1,b=5e3){const O=document.querySelector(".js-command-palette-toasts");if(!O)return;const L=O.querySelectorAll(".Toast");for(const x of L)x.hidden=!0;const C=O.querySelector(`.Toast.Toast--${t}`);if(!C)return;const S=C.querySelector(".Toast-content");v?S.innerHTML=p:S.textContent=p,C.hidden=!1,setTimeout(()=>{C.hidden=!0},b)}},"CommandPalette");I.tagName="command-palette",f([d.Lj],I.prototype,"returnTo",2),f([d.Lj],I.prototype,"userId",2),f([d.Lj],I.prototype,"multiPageEnabled",2),f([d.Lj],I.prototype,"activationHotkey",2),f([d.Lj],I.prototype,"commandModeHotkey",2),f([d.Lj],I.prototype,"memexActivationHotkey",2),f([d.fA],I.prototype,"pageStack",2),f([(0,c.D)(250)],I.prototype,"clearCommands",1),I=f([d.Ih],I)},17253:(D,E,n)=>{n.d(E,{F:()=>M});var d=n(5723),h=n(93673),_=n(77691),l=n(51404),r=n(50467),e=n(2454),s=n(78292),i=n(9530),c=n(85549),a=n(24741),o=n(93197),m=Object.defineProperty,f=Object.getOwnPropertyDescriptor,T=y((u,P,g,I)=>{for(var t=I>1?void 0:I?f(P,g):P,p=u.length-1,v;p>=0;p--)(v=u[p])&&(t=(I?v(P,g,t):v(t))||t);return I&&t&&m(P,g,t),t},"__decorateClass");let M=y(class extends HTMLElement{constructor(){super(...arguments);this.itemId="",this.itemTitle="",this.subtitle="",this.selected=!1,this.score=0,this.titleNodes=[],this.rendered=!1,this.newTabOpened=!1,this.containerDataTarget="command-palette-item.containerElement",this.containerClasses="mx-2 px-2 rounded-2 d-flex flex-items-start no-underline border-0",this.containerStyle="padding-top: 10px; padding-bottom: 10px; cursor: pointer;"}activate(u,P){this.item.activate(u,P),(0,o.j)("activate",this.item)}copy(u){return(0,o.j)("copy",this.item),this.item.copy(u)}renderOcticon(u){this.iconElement.innerHTML=u}renderAvatar(u,P){let g;this.item instanceof e.V?g=d.dy`<img src="${u}" alt="${P}" class="avatar avatar-1 avatar-small" />`:this.item instanceof s.W?g=d.dy`<img src="${u}" alt="${P}" class="avatar avatar-1" />`:g=d.dy`<img src="${u}" alt="${P}" class="avatar avatar-1 avatar-small circle" />`,(0,d.sY)(g,this.iconElement)}setItemAttributes(u){var P;this.item=u,this.itemId=u.id,this.itemTitle=u.title,this.hint=u.hint,this.href=(P=u.path)!=null?P:"",u.subtitle&&(this.subtitle=u.subtitle),u instanceof i.q&&(u.element=this)}render(u,P){if(this.renderBaseElement(),u&&(this.selected=!0),this.item instanceof l.i&&this.item.typeahead)this.titleNodes=this.emphasizeTextMatchingQuery(this.item.title,this.item.typeahead);else if(this.item instanceof r.B){const g=document.createElement("span");g.innerHTML=this.item.title,this.titleNodes=[g],this.item.persistentHint&&(this.persistentHint.innerHTML=this.item.persistentHint,this.persistentHint.hidden=!1)}else if(this.item instanceof c.K&&P){const g=[];g.push(document.createTextNode("Search"));const I=document.createElement("strong");I.textContent=` '${P}' `,g.push(I),g.push(document.createTextNode(this.item.titleScope)),this.titleNodes=g}else P&&(this.titleNodes=this.emphasizeTextMatchingQuery(this.item.title,P));return this}connectedCallback(){this.subtitle&&this.subtitleElement.removeAttribute("hidden"),this.titleNodes.length>0&&(this.titleElement.textContent="",this.titleElement.append(...this.titleNodes))}onClick(u){this.activate(this.commandPalette,u)}get commandPalette(){return this.closest("command-palette")}attributeChangedCallback(u,P,g){this.rendered&&(u==="data-selected"?(this.setSelectionAppearance(),this.item instanceof i.q&&this.item.select(this)):u==="data-item-title"?this.titleElement.textContent=g:u==="data-subtitle"&&(this.subtitleElement.textContent=g))}setSelectionAppearance(){this.selected?(this.containerElement.classList.add("color-bg-subtle"),this.hintText.hidden=!1):(this.containerElement.classList.remove("color-bg-subtle"),this.hintText.hidden=!0)}renderLinkContainer(u){return d.dy`
      <a
        data-target="${this.containerDataTarget}"
        data-action="click:command-palette-item#onClick"
        href="${this.href}"
        class="${this.containerClasses}"
        data-skip-pjax
        style="${this.containerStyle}"
      >
        ${u}
      </a>
    `}renderSpanContainer(u){return d.dy`
      <span
        data-target="${this.containerDataTarget}"
        class="${this.containerClasses}"
        style="${this.containerStyle}"
        data-action="click:command-palette-item#onClick"
      >
        ${u}
      </span>
    `}renderElementContent(){return d.dy`
      <div
        data-target="command-palette-item.iconElement"
        class="mr-2 color-fg-muted d-flex flex-items-center"
        style="height: 24px;"
      ></div>

      <div class="flex-1 d-flex flex-column" style="line-height: 24px;">
        <span data-target="command-palette-item.titleElement" class="color-fg-default f5">${this.itemTitle}</span>
        <p data-target="command-palette-item.subtitleElement" class="color-fg-muted f6 mb-0" hidden>${this.subtitle}</p>
      </div>

      <div class="color-fg-muted f5" style="line-height: 20px;">
        <span class="hide-sm" data-target="command-palette-item.hintText" style="line-height: 24px;" hidden
          >${this.getHint()}</span
        >
        <span
          class="hide-sm"
          data-target="command-palette-item.persistentHint"
          style="line-height: 24px;"
          hidden
        ></span>
      </div>
    `}renderBaseElement(){const u=this.renderElementContent(),P=y(()=>this.href?this.renderLinkContainer(u):this.renderSpanContainer(u),"itemTemplate");(0,d.sY)(P(),this),this.rendered=!0}activateLinkBehavior(u,P,g){const I=this.containerElement;g&&I instanceof HTMLAnchorElement?(this.newTabOpened=!0,this.openLinkInNewTab(I)):(this.newTabOpened=!1,this.openLink(I))}openLinkInNewTab(u){const P=u.getAttribute("target");u.setAttribute("target","_blank"),u.click(),P?u.setAttribute("target",P):u.removeAttribute("target")}openLink(u){u.click()}copyToClipboardAndAnnounce(u,P){(0,a.z)(u);const g=this.hintText,I=g.textContent;g.classList.add("color-fg-success"),g.textContent=P!=null?P:"Copied!",setTimeout(()=>{g.classList.remove("color-fg-success"),g.textContent=I},2e3)}getHint(){return this.item instanceof l.i||this.item instanceof r.B?d.dy``:this.hint?d.dy`<span class="hide-sm">${this.hint}</span>`:this.item instanceof i.q&&this.item.scope?d.dy`<div class="hide-sm">
        <kbd class="hx_kbd">Enter</kbd>
        to jump to
        <kbd class="hx_kbd ml-1">Tab</kbd>
        to search
      </div>`:d.dy`<span class="hide-sm">Jump to</span>`}emphasizeTextMatchingQuery(u,P){if(!(0,_.CD)(P,u))return[document.createTextNode(u)];const g=[];let I=0;for(const p of(0,_.m7)(P,u)){if(u.slice(I,p)!==""){const O=document.createTextNode(u.slice(I,p));g.push(O)}I=p+1;const b=document.createElement("strong");b.textContent=u[p],g.push(b)}const t=document.createTextNode(u.slice(I));return g.push(t),g}},"CommandPaletteItemElement");T([h.Lj],M.prototype,"itemId",2),T([h.Lj],M.prototype,"itemTitle",2),T([h.Lj],M.prototype,"subtitle",2),T([h.Lj],M.prototype,"selected",2),T([h.Lj],M.prototype,"score",2),T([h.fA],M.prototype,"titleElement",2),T([h.fA],M.prototype,"iconElement",2),T([h.fA],M.prototype,"subtitleElement",2),T([h.fA],M.prototype,"hintText",2),T([h.fA],M.prototype,"persistentHint",2),T([h.fA],M.prototype,"containerElement",2),M=T([h.Ih],M)},7357:(D,E,n)=>{n.d(E,{O:()=>e});var d=n(93673),h=n(5723),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((s,i,c,a)=>{for(var o=a>1?void 0:a?l(i,c):i,m=s.length-1,f;m>=0;m--)(f=s[m])&&(o=(a?f(i,c,o):f(o))||o);return a&&o&&_(i,c,o),o},"__decorateClass");let e=y(class extends HTMLElement{constructor(){super(...arguments);this.groupLimits="",this.defaultPriority=0}connectedCallback(){this.classList.add("py-2","border-top"),this.setAttribute("hidden","true"),this.renderElement("")}prepareForNewItems(){this.list.innerHTML="",this.setAttribute("hidden","true"),this.classList.contains("border-top")||this.classList.add("border-top")}hasItem(s){return this.list.querySelectorAll(`[data-item-id="${s.id}"]`).length>0}renderElement(s){const i=y(()=>this.hasTitle?h.dy`
          <div class="d-flex flex-justify-between my-2 px-3">
            <span data-target="command-palette-item-group.header" class="color-fg-muted text-bold f6 text-normal">
              ${this.groupTitle}
            </span>
            <span data-target="command-palette-item-group.header" class="color-fg-muted f6 text-normal">
              ${s?"":this.groupHint}
            </span>
          </div>
          <div
            role="listbox"
            class="list-style-none"
            data-target="command-palette-item-group.list"
            aria-label="${this.groupTitle} results"
          ></div>
        `:h.dy`
          <div
            role="listbox"
            class="list-style-none"
            data-target="command-palette-item-group.list"
            aria-label="${this.groupTitle} results"
          ></div>
        `,"groupTemplate");(0,h.sY)(i(),this)}push(s){this.removeAttribute("hidden"),this.topGroup&&this.atLimit?s.itemId!==this.firstItem.itemId&&this.replaceTopGroupItem(s):this.list.append(s)}replaceTopGroupItem(s){this.list.replaceChild(s,this.firstItem)}groupLimitForScope(){const s=this.closest("command-palette");if(s){const i=s.query.scope.type;return JSON.parse(this.groupLimits)[i]}}get limit(){const s=this.groupLimitForScope();return this.topGroup?1:this.isModeActive()?50:s||e.defaultGroupLimit}get atLimit(){return this.list.children.length>=this.limit}parsedGroupLimits(){return this.groupLimits?JSON.parse(this.groupLimits):{}}limitForScopeType(s){const c=this.parsedGroupLimits()[s];return this.topGroup?1:this.isModeActive()?e.activeModeLimit:c||e.defaultGroupLimit}atLimitForScopeType(s){return this.list.children.length>=this.limitForScopeType(s)}isModeActive(){const s=this.closest("command-palette");return s?s.getMode():!1}get topGroup(){return this.groupId===e.topGroupId}get hasTitle(){return this.groupId!==e.footerGroupId}get itemNodes(){return this.list.querySelectorAll("command-palette-item")}get firstItem(){return this.itemNodes[0]}get lastItem(){return this.itemNodes[this.itemNodes.length-1]}},"CommandPaletteItemGroupElement");e.defaultGroupLimit=5,e.activeModeLimit=50,e.topGroupId="top",e.defaultGroupId="default",e.footerGroupId="footer",e.helpGroupIds=["modes_help","filters_help"],e.commandGroupIds=["commands"],e.topGroupScoreThreshold=9,r([d.Lj],e.prototype,"groupTitle",2),r([d.Lj],e.prototype,"groupHint",2),r([d.Lj],e.prototype,"groupId",2),r([d.Lj],e.prototype,"groupLimits",2),r([d.Lj],e.prototype,"defaultPriority",2),r([d.fA],e.prototype,"list",2),r([d.fA],e.prototype,"header",2),e=r([d.Ih],e)},6119:(D,E,n)=>{n.d(E,{v:()=>a});var d=n(93673),h=n(5723),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((o,m,f,T)=>{for(var M=T>1?void 0:T?l(m,f):m,u=o.length-1,P;u>=0;u--)(P=o[u])&&(M=(T?P(m,f,M):P(M))||M);return T&&M&&_(m,f,M),M},"__decorateClass");const e=14,s=20,i=20,c=55;let a=y(class extends HTMLElement{constructor(){super(...arguments);this.smallDisplay=!1}connectedCallback(){this.classList.add("d-inline-flex")}get lastToken(){return this.tokens[this.tokens.length-1]}get text(){return this.tokens.map(o=>o.text).join("/")}get id(){return this.lastToken?this.lastToken.id:a.emptyScope.id}get type(){return this.lastToken?this.lastToken.type:a.emptyScope.type}get scope(){return this.hasScope()?{text:this.text,type:this.type,id:this.id,tokens:this.tokens}:a.emptyScope}set scope(o){this.renderTokens(o.tokens)}renderTokens(o){this.clearScope();let m=0,f=o.length;const T=this.smallDisplay?e:i,M=this.smallDisplay?s:c;for(let g=o.length-1;g>=0&&!(m+Math.min(o[g].text.length,T)+5>M);g--)m+=Math.min(o[g].text.length,T)+5,f=g;const u=y(g=>h.dy`${g.map(P)}`,"tokensTemplate"),P=y((g,I)=>{const t=g.text.length>T?`${g.text.substring(0,T-3)}...`:g.text;return h.dy`
        <command-palette-token
          data-text="${g.text}"
          data-id="${g.id}"
          data-type="${g.type}"
          data-value="${g.value}"
          data-targets="command-palette-scope.tokens"
          hidden="${I<f}"
          class="color-fg-default text-semibold"
          style="white-space:nowrap;line-height:20px;"
          >${t}<span class="color-fg-subtle text-normal">&nbsp;&nbsp;/&nbsp;&nbsp;</span>
        </command-palette-token>
      `},"tokenTemplate");(0,h.sY)(u(o),this),this.hidden=!this.hasScope(),f!==0&&(this.placeholder.hidden=!1)}removeToken(){this.lastToken&&(this.lastRemovedToken=this.lastToken,this.lastToken.remove(),this.renderTokens(this.tokens))}hasScope(){return this.tokens.length>0&&this.type&&this.id&&this.text}clearScope(){for(const o of this.tokens)o.remove();this.placeholder.hidden=!0}attributeChangedCallback(o,m,f){o==="data-small-display"&&m!==f&&this.renderTokens(this.tokens)}},"CommandPaletteScopeElement");a.emptyScope={type:"",text:"",id:"",tokens:[]},r([d.Lj],a.prototype,"smallDisplay",2),r([d.fA],a.prototype,"placeholder",2),r([d.GO],a.prototype,"tokens",2),a=r([d.Ih],a)},24741:(D,E,n)=>{n.d(E,{z:()=>_});function d(l){const r=document.createElement("pre");return r.style.width="1px",r.style.height="1px",r.style.position="fixed",r.style.top="5px",r.textContent=l,r}y(d,"createNode");function h(l){if("clipboard"in navigator)return navigator.clipboard.writeText(l.textContent||"");const r=getSelection();if(r==null)return Promise.reject(new Error);r.removeAllRanges();const e=document.createRange();return e.selectNodeContents(l),r.addRange(e),document.execCommand("copy"),r.removeAllRanges(),Promise.resolve()}y(h,"copyNode");function _(l){if("clipboard"in navigator)return navigator.clipboard.writeText(l);const r=document.body;if(!r)return Promise.reject(new Error);const e=d(l);return r.appendChild(e),h(e),r.removeChild(e),Promise.resolve()}y(_,"copyText")},9530:(D,E,n)=>{n.d(E,{L:()=>_,q:()=>r});var d=n(59368),h=n(7357);function _(e){r.register(e)}y(_,"legacyItem");const l=y(class extends d.c{constructor(e){super(e);this.position="",this.score=e.score,this.scope=e.scope,this.matchFields=e.match_fields,this._action=e.action}static register(e){this.itemClasses[e.itemType]=e}static get itemType(){return this.buildItemType(this.name)}static buildItemType(e){return e.replace(/([A-Z]($|[a-z]))/g,"_$1").replace(/(^_|_Item$)/g,"").toLowerCase()}static build(e){const s=this.itemClasses[e.action.type];if(s)return new s(e);throw new Error(`No item handler for ${e.action.type}`)}get action(){return this._action}get key(){return`${this.action.type}/${this.title}/${this.group}`}get path(){return this.action.path||""}get itemType(){return l.buildItemType(this.constructor.name)}select(e){}deselect(e){}activate(e,s){}activateLinkBehavior(e,s,i){var c;(c=this.element)==null||c.activateLinkBehavior(e,s,i)}copy(e){}copyToClipboardAndAnnounce(e,s){var i;(i=this.element)==null||i.copyToClipboardAndAnnounce(e,s)}autocomplete(e){const s=e.commandPaletteInput,i=this.typeahead;i!==void 0?s.value=s.overlay+i:s.value=s.overlay+this.title}},"_LegacyItem");let r=l;r.itemClasses={},r.defaultData={title:"",score:1,priority:1,action:{type:"",path:""},icon:{type:"octicon",id:"dash-color-fg-muted"},group:h.O.defaultGroupId}},51404:(D,E,n)=>{n.d(E,{i:()=>e});var d=n(26351),h=n(9530),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((s,i,c,a)=>{for(var o=a>1?void 0:a?l(i,c):i,m=s.length-1,f;m>=0;m--)(f=s[m])&&(o=(a?f(i,c,o):f(o))||o);return a&&o&&_(i,c,o),o},"__decorateClass");let e=y(class extends h.q{activate(s,i){i instanceof PointerEvent?super.activate(s,i):i instanceof KeyboardEvent&&this.activateLinkBehavior(s,i,(0,d.o)(i))}get key(){return this.title}},"AccessPolicyItem");e=r([h.L],e)},99149:(D,E,n)=>{n.d(E,{d:()=>r});var d=n(9530),h=Object.defineProperty,_=Object.getOwnPropertyDescriptor,l=y((e,s,i,c)=>{for(var a=c>1?void 0:c?_(s,i):s,o=e.length-1,m;o>=0;o--)(m=e[o])&&(a=(c?m(s,i,a):m(a))||a);return c&&a&&h(s,i,a),a},"__decorateClass");let r=y(class extends d.q{constructor(e){super(e);this.typeahead=e.title,this.group="commands"}get action(){return this._action}async activate(e){super.activate(e);const s=e.getAttribute("data-commands-path"),i=e.querySelector(".js-commands-csrf").value;if(!s||!i)return;const c=e.query.params();c.set("command",this.action.id),e.commandPaletteInput.loading=!0;const a=await fetch(s,{method:"POST",mode:"same-origin",headers:{Accept:"application/json","Scoped-CSRF-Token":i,"X-Requested-With":"XMLHttpRequest"},body:c});if(e.commandPaletteInput.loading=!1,a.ok){const o=await a.json();this.handleResponse(e,o.action,o.arguments)}else e.displayFlash("error","Failed to run command")}handleResponse(e,s,i){switch(s){case"displayFlash":e.displayFlash(i.type,i.message),e.dismiss();break}}},"CommandItem");r=l([d.L],r)},73380:(D,E,n)=>{n.d(E,{Z:()=>e});var d=n(9530),h=n(24741),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((s,i,c,a)=>{for(var o=a>1?void 0:a?l(i,c):i,m=s.length-1,f;m>=0;m--)(f=s[m])&&(o=(a?f(i,c,o):f(o))||o);return a&&o&&_(i,c,o),o},"__decorateClass");let e=y(class extends d.q{constructor(s){super(s);this.priority=11,this.score=1,this.typeahead=s.title,this.group="commands"}get action(){return this._action}async activate(s){super.activate(s);try{await(0,h.z)(this.action.text),s.displayFlash("success",this.action.message),s.clearProviderCaches(),s.dismiss(),s.itemStackElement.clear(),s.commandPaletteInput.value=""}catch{s.displayFlash("error","Copy failed")}}},"CopyableItem");e=r([d.L],e)},50467:(D,E,n)=>{n.d(E,{B:()=>r});var d=n(9530),h=Object.defineProperty,_=Object.getOwnPropertyDescriptor,l=y((e,s,i,c)=>{for(var a=c>1?void 0:c?_(s,i):s,o=e.length-1,m;o>=0;o--)(m=e[o])&&(a=(c?m(s,i,a):m(a))||a);return c&&a&&h(s,i,a),a},"__decorateClass");let r=y(class extends d.q{static from(e){return new r({title:e.title,typeahead:"",priority:-10-e.index,score:-10,group:e.group,action:{type:"help",description:"",prefix:e.prefix},persistentHint:e.persistentHint})}constructor(e){super(e);this.persistentHint=e.persistentHint}activate(e,s){e.commandPaletteInput.value=this.action.prefix+e.getTextWithoutMode()}autocomplete(e){e.commandPaletteInput.value=this.action.prefix+e.getTextWithoutMode()}calculateScore(e){return 0}get action(){return this._action}},"HelpItem");r=l([d.L],r)},93312:(D,E,n)=>{n.d(E,{s:()=>e});var d=n(9530),h=n(26351),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((s,i,c,a)=>{for(var o=a>1?void 0:a?l(i,c):i,m=s.length-1,f;m>=0;m--)(f=s[m])&&(o=(a?f(i,c,o):f(o))||o);return a&&o&&_(i,c,o),o},"__decorateClass");let e=y(class extends d.q{static from(s){return new e({title:s.title,typeahead:s.title,priority:1,score:1,group:s.group,action:{type:"jump_to",description:"",path:s.path},icon:{type:"octicon",id:s.icon}})}activate(s,i){i instanceof PointerEvent?super.activate(s,i):i instanceof KeyboardEvent&&this.activateLinkBehavior(s,i,(0,h.o)(i))}copy(s){super.copy(s);const i=new URL(this.action.path,window.location.origin);return this.copyToClipboardAndAnnounce(i.toString()),i.toString()}get key(){return`${super.key}/${this.action.path}`}get action(){return this._action}},"JumpToItem");e=r([d.L],e)},2454:(D,E,n)=>{n.d(E,{V:()=>e});var d=n(93312),h=n(9530),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((s,i,c,a)=>{for(var o=a>1?void 0:a?l(i,c):i,m=s.length-1,f;m>=0;m--)(f=s[m])&&(o=(a?f(i,c,o):f(o))||o);return a&&o&&_(i,c,o),o},"__decorateClass");let e=y(class extends d.s{},"JumpToOrgItem");e=r([h.L],e)},78292:(D,E,n)=>{n.d(E,{W:()=>e});var d=n(93312),h=n(9530),_=Object.defineProperty,l=Object.getOwnPropertyDescriptor,r=y((s,i,c,a)=>{for(var o=a>1?void 0:a?l(i,c):i,m=s.length-1,f;m>=0;m--)(f=s[m])&&(o=(a?f(i,c,o):f(o))||o);return a&&o&&_(i,c,o),o},"__decorateClass");let e=y(class extends d.s{},"JumpToTeamItem");e=r([h.L],e)},88684:(D,E,n)=>{n.d(E,{U:()=>h});var d=n(59368);class h extends d.c{constructor(l){super({title:l.title,subtitle:l.subtitle,typeahead:l.title,priority:l.priority,group:l.group,icon:{type:"octicon",id:l.icon},hint:"Run command"});this.command=l}get path(){}copy(l){}activate(l){this.command.run(l),this.command.dismissAfterRun&&l.dismiss()}isApplicable(l){return this.command.isApplicable(l)}select(){this.command.select()}deselect(){this.command.deselect()}}y(h,"MainWindowCommandItem")},85549:(D,E,n)=>{n.d(E,{K:()=>s});var d=n(9530),h=n(7357),_=n(93312),l=Object.defineProperty,r=Object.getOwnPropertyDescriptor,e=y((i,c,a,o)=>{for(var m=o>1?void 0:o?r(c,a):c,f=i.length-1,T;f>=0;f--)(T=i[f])&&(m=(o?T(c,a,m):T(m))||m);return o&&m&&l(c,a,m),m},"__decorateClass");let s=y(class extends _.s{static create(i){let c,a;if(i.scope.type==="repository")c=`in ${i.scope.text}`,a=`/${i.scope.text}/search?q=${i.text}`;else if(i.scope.type==="owner"){const o=`org:${i.scope.text} ${i.text}`;c=`in ${i.scope.text}`,a=`/search?q=${o}`}else c="across all of GitHub",a=`/search?q=${i.text}`;return new s({title:`Search ${i.text}${c}`,typeahead:"",priority:-10,score:-10,group:h.O.footerGroupId,action:{type:"jump_to",description:"",path:a},icon:{type:"octicon",id:"search-color-fg-muted"},titleScope:c})}constructor(i){super(i);this.titleScope=i.titleScope}autocomplete(i){}calculateScore(i){return 0}},"SearchLinkItem");s=e([d.L],s)},60121:(D,E,n)=>{n.d(E,{j:()=>d});class d{constructor(_){this.title=_.title,this.scopeId=_.scopeId,this.scopeType=_.scopeType}get providers(){return this._providerElements.map(_=>_.provider)}get _providerElements(){return[...this.serverDefinedProviderElements,...this.clientDefinedProviderElements]}get serverDefinedProviderElements(){const _=document.querySelectorAll("server-defined-provider");return Array.from(_)}get clientDefinedProviderElements(){const _=document.querySelectorAll("client-defined-provider");return Array.from(_)}}y(d,"GlobalProvidersPage")},15746:(D,E,n)=>{n.d(E,{b:()=>d});class d extends HTMLElement{constructor(){super(...arguments);this.isSetup=!1}connectedCallback(){this.isSetup=!0}async fetchWithDebounce(_,l){return this._lastFetchQuery=_,await this.delay(this.provider.debounce),this._lastFetchQuery!==_?{results:[]}:this.provider.fetch(_,l)}delay(_){return new Promise(l=>setTimeout(l,_))}}y(d,"ProviderElement")},46931:(D,E,n)=>{n.d(E,{t:()=>_});var d=n(18375),h=n(55871);class _ extends h.x{constructor(){super(...arguments);this.maxItems=1e3,this.scopedItems={},this.cachedOcticons={}}clearCache(){super.clearCache(),this.scopedItems={},this.cachedOcticons={}}get debounce(){return 0}async prefetch(r){if(!this.scopeMatch(r)||this.scopedItems[r.scope.id])return;const e=new d.A("",r.mode,{subjectId:r.subjectId,subjectType:r.subjectType,returnTo:r.returnTo,scope:r.scope}),s=await this.fetchSrc(e,r.mode);this.octicons=s.octicons||[];const i=s.results||[];this.scopedItems[r.scope.id]=i,this.cachedOcticons[r.scope.id]=this.octicons}async fetch(r,e){const s=this.scopedItems[r.scope.id]||[],i=this.cachedOcticons[r.scope.id]||[];return{results:this.fuzzyFilter(s,r).slice(0,this.maxItems),octicons:i}}}y(_,"PrefetchedProvider")},55871:(D,E,n)=>{n.d(E,{x:()=>_});var d=n(9530),h=n(16792);class _ extends h.j{fetch(r,e){return this.fetchSrc(r)}enabledFor(r){return this.modeMatch(r)&&this.scopeMatch(r)}clearCache(){}scopeMatch(r){return this.scopeTypes.length===0||this.scopeTypes.includes(r.scope.type)}modeMatch(r){return this.modes.includes(r.mode)||this.hasWildCard}async fetchSrc(r,e=""){var s;if(!this.src)throw new Error("No src defined");const i=new URL(this.src,window.location.origin),c=r.params();e&&c.set("mode",e),i.search=c.toString();const a=await fetch(i.toString(),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(a.ok){const o=await a.json();return{results:((s=o.results)==null?void 0:s.map(m=>d.q.build(m)))||[],octicons:o.octicons}}else return{error:!0,results:[]}}}y(_,"RemoteProvider")},16792:(D,E,n)=>{n.d(E,{j:()=>h});class d{fuzzyFilter(l,r,e=0){if(r.isBlank())return l;const s=[];for(const i of l)i.calculateScore(r.text)>e&&s.push(i);return s}}y(d,"ProviderBase");class h extends d{constructor(l){super();this.element=l}get type(){return this.element.type}get modes(){return this.element.modes}get debounce(){return this.element.debounce}get scopeTypes(){return this.element.scopeTypes}get src(){return this.element.src}get hasWildCard(){return this.element.hasWildCard}get hasCommands(){return this.element.hasCommands}fetch(l,r){throw new Error("Method not implemented.")}enabledFor(l){throw new Error("Method not implemented.")}clearCache(){throw new Error("Method not implemented.")}}y(h,"ServerDefinedProvider")},18375:(D,E,n)=>{n.d(E,{A:()=>h});var d=n(6119);class h{constructor(l,r,{scope:e,subjectId:s,subjectType:i,returnTo:c}={}){this.queryText=l,this.queryMode=r,this.scope=e!=null?e:d.v.emptyScope,this.subjectId=s,this.subjectType=i,this.returnTo=c}get text(){return this.queryText}get mode(){return this.queryMode}get path(){return this.buildPath(this)}buildPath(l,r=l.text){return`scope:${l.scope.type}-${l.scope.id}/mode:${l.mode}/query:${r}`}clearScope(){this.scope=d.v.emptyScope}hasScope(){return this.scope.id!==d.v.emptyScope.id}isBlank(){return this.text.trim().length===0}isPresent(){return!this.isBlank()}immutableCopy(){const l=this.text,r=this.mode,e={...this.scope};return new h(l,r,{scope:e,subjectId:this.subjectId,subjectType:this.subjectType,returnTo:this.returnTo})}hasSameScope(l){return this.scope.id===l.scope.id}params(){const l=new URLSearchParams;return this.isPresent()&&l.set("q",this.text),this.hasScope()&&l.set("scope",this.scope.id),this.mode&&l.set("mode",this.mode),this.returnTo&&l.set("return_to",this.returnTo),this.subjectId&&l.set("subject",this.subjectId),l}}y(h,"Query")},93197:(D,E,n)=>{n.d(E,{j:()=>i});var d=n(51404),h=n(99149),_=n(73380),l=n(93312),r=n(9530),e=n(88684),s=n(98129);function i(a,o){const m=document.querySelector("command-palette");let f="";o&&(o.group==="commands"||o.group==="global_commands")&&(f=o.title);const T={command_palette_session_id:m.sessionId,command_palette_scope:m.query.scope.type,command_palette_mode:m.getMode(),command_palette_title:f,command_palette_position:o==null?void 0:o.position,command_palette_score:o==null?void 0:o.score,command_palette_group:o==null?void 0:o.group,command_palette_item_type:o instanceof r.q?o==null?void 0:o.itemType:o==null?void 0:o.constructor.name};let M;a==="activate"?M=c(o):M=a,(0,s.q)(`command_palette_${M}`,T)}y(i,"sendTrackingEvent");function c(a){var o;return a instanceof d.i?"access_policy_executed":a instanceof h.d||a instanceof e.U||a instanceof _.Z?"command_executed":a instanceof l.s?((o=a.element)==null?void 0:o.newTabOpened)?"jump_to_new_tab":"jump_to":"activate"}y(c,"activateTrackingEventType")},98129:(D,E,n)=>{n.d(E,{Y:()=>r,q:()=>e});var d=n(67671),h=n(47242);const _="dimension_";let l;try{const s=(0,d.n)("octolytics");if(s.baseContext){delete s.baseContext.app_id,delete s.baseContext.event_url,delete s.baseContext.host;for(const c in s.baseContext)c.startsWith(_)&&(s.baseContext[c.replace(_,"")]=s.baseContext[c],delete s.baseContext[c])}const i=document.querySelector("meta[name=visitor-payload]");if(i){const c=JSON.parse(atob(i.content)),a=s.baseContext||{};Object.assign(a,c),s.baseContext=a}l=new h.R(s)}catch{}function r(s){l==null||l.sendPageView(s)}y(r,"sendPageView");function e(s,i){var c,a;const o=(a=(c=document.head)==null?void 0:c.querySelector('meta[name="current-catalog-service"]'))==null?void 0:a.content,m=o?{service:o}:{};for(const[f,T]of Object.entries(i))T!=null&&(m[f]=`${T}`);l==null||l.sendEvent(s||"unknown",m)}y(e,"sendEvent")}}]);})();

//# sourceMappingURL=github_command-palette_command-palette-item-element_ts-f4d906018df95e7ee1c4871a91ba0297a118cca3724067c430d0707da4963b5f383be620b88f60ca2fea680e59675b0efd24602fa98517e80ddc097143bc2e00.js.map